{% extends 'base.html' %} {% block content %}

<h1>Blogs</h1>
<div class="container-fluid shadow-sm p-3 mb-5 bg-body-tertiary rounded">
  <div class="">
    <ul>
      {% for post in object_list %}

      <li class="shadow p-3 mb-5 bg-body-primary rounded">
        <strong>
          <a href="{% url 'article-detail' post.pk %}">{{ post.title }}</a> -
        </strong>
        <i>
          {{ post.author.first_name }} {{ post.author.last_name }} -
          <small>
            <i> {{ post.created_on }} </i>
          </small>
          -
          <small>
            {% if user.is_authenticated %}
            <!-- if the user is logged in -->
            {% if user.id == post.author.id %}
            <a href="{% url 'update_post' post.pk %}">(Edit)</a>
            <a href="{% url 'delete_post' post.pk %}">(Delete)</a>
            {% endif %} {% endif %}
          </small>
        </i>
        <br />
        <hr />
        <div>{{ post.content|slice:":200"|safe }}</div>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
